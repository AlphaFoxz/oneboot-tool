"use strict";var Eo=Object.create;var Mi=Object.defineProperty;var To=Object.getOwnPropertyDescriptor;var Po=Object.getOwnPropertyNames;var ko=Object.getPrototypeOf,Io=Object.prototype.hasOwnProperty;var u=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Do=(r,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Po(e))!Io.call(r,s)&&s!==t&&Mi(r,s,{get:()=>e[s],enumerable:!(i=To(e,s))||i.enumerable});return r};var z=(r,e,t)=>(t=r!=null?Eo(ko(r)):{},Do(e||!r||!r.__esModule?Mi(t,"default",{value:r,enumerable:!0}):t,r));var y=u((Mu,Ii)=>{"use strict";var{FORCE_COLOR:Ro,NODE_DISABLE_COLORS:No,TERM:Go}=process.env,g={enabled:!No&&Go!=="dumb"&&Ro!=="0",reset:v(0,0),bold:v(1,22),dim:v(2,22),italic:v(3,23),underline:v(4,24),inverse:v(7,27),hidden:v(8,28),strikethrough:v(9,29),black:v(30,39),red:v(31,39),green:v(32,39),yellow:v(33,39),blue:v(34,39),magenta:v(35,39),cyan:v(36,39),white:v(37,39),gray:v(90,39),grey:v(90,39),bgBlack:v(40,49),bgRed:v(41,49),bgGreen:v(42,49),bgYellow:v(43,49),bgBlue:v(44,49),bgMagenta:v(45,49),bgCyan:v(46,49),bgWhite:v(47,49)};function ki(r,e){let t=0,i,s="",n="";for(;t<r.length;t++)i=r[t],s+=i.open,n+=i.close,e.includes(i.close)&&(e=e.replace(i.rgx,i.close+i.open));return s+e+n}function Lo(r,e){let t={has:r,keys:e};return t.reset=g.reset.bind(t),t.bold=g.bold.bind(t),t.dim=g.dim.bind(t),t.italic=g.italic.bind(t),t.underline=g.underline.bind(t),t.inverse=g.inverse.bind(t),t.hidden=g.hidden.bind(t),t.strikethrough=g.strikethrough.bind(t),t.black=g.black.bind(t),t.red=g.red.bind(t),t.green=g.green.bind(t),t.yellow=g.yellow.bind(t),t.blue=g.blue.bind(t),t.magenta=g.magenta.bind(t),t.cyan=g.cyan.bind(t),t.white=g.white.bind(t),t.gray=g.gray.bind(t),t.grey=g.grey.bind(t),t.bgBlack=g.bgBlack.bind(t),t.bgRed=g.bgRed.bind(t),t.bgGreen=g.bgGreen.bind(t),t.bgYellow=g.bgYellow.bind(t),t.bgBlue=g.bgBlue.bind(t),t.bgMagenta=g.bgMagenta.bind(t),t.bgCyan=g.bgCyan.bind(t),t.bgWhite=g.bgWhite.bind(t),t}function v(r,e){let t={open:`\x1B[${r}m`,close:`\x1B[${e}m`,rgx:new RegExp(`\\x1b\\[${e}m`,"g")};return function(i){return this!==void 0&&this.has!==void 0?(this.has.includes(r)||(this.has.push(r),this.keys.push(t)),i===void 0?this:g.enabled?ki(this.keys,i+""):i+""):i===void 0?Lo([r],[t]):g.enabled?ki([t],i+""):i+""}}Ii.exports=g});var Vi=u((Au,Di)=>{"use strict";Di.exports=(r,e)=>{if(!(r.meta&&r.name!=="escape")){if(r.ctrl){if(r.name==="a")return"first";if(r.name==="c"||r.name==="d")return"abort";if(r.name==="e")return"last";if(r.name==="g")return"reset"}if(e){if(r.name==="j")return"down";if(r.name==="k")return"up"}return r.name==="return"||r.name==="enter"?"submit":r.name==="backspace"?"delete":r.name==="delete"?"deleteForward":r.name==="abort"?"abort":r.name==="escape"?"exit":r.name==="tab"?"next":r.name==="pagedown"?"nextPage":r.name==="pageup"?"prevPage":r.name==="home"?"home":r.name==="end"?"end":r.name==="up"?"up":r.name==="down"?"down":r.name==="right"?"right":r.name==="left"?"left":!1}}});var Ce=u(($u,ji)=>{"use strict";ji.exports=r=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof r=="string"?r.replace(t,""):r}});var x=u((qu,Hi)=>{"use strict";var Je="\x1B",_=`${Je}[`,Wo="\x07",Be={to(r,e){return e?`${_}${e+1};${r+1}H`:`${_}${r+1}G`},move(r,e){let t="";return r<0?t+=`${_}${-r}D`:r>0&&(t+=`${_}${r}C`),e<0?t+=`${_}${-e}A`:e>0&&(t+=`${_}${e}B`),t},up:(r=1)=>`${_}${r}A`,down:(r=1)=>`${_}${r}B`,forward:(r=1)=>`${_}${r}C`,backward:(r=1)=>`${_}${r}D`,nextLine:(r=1)=>`${_}E`.repeat(r),prevLine:(r=1)=>`${_}F`.repeat(r),left:`${_}G`,hide:`${_}?25l`,show:`${_}?25h`,save:`${Je}7`,restore:`${Je}8`},Uo={up:(r=1)=>`${_}S`.repeat(r),down:(r=1)=>`${_}T`.repeat(r)},Yo={screen:`${_}2J`,up:(r=1)=>`${_}1J`.repeat(r),down:(r=1)=>`${_}J`.repeat(r),line:`${_}2K`,lineEnd:`${_}K`,lineStart:`${_}1K`,lines(r){let e="";for(let t=0;t<r;t++)e+=this.line+(t<r-1?Be.up():"");return r&&(e+=Be.left),e}};Hi.exports={cursor:Be,scroll:Uo,erase:Yo,beep:Wo}});var Li=u((Eu,Gi)=>{"use strict";function zo(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=Jo(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,s=function(){};return{s,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){t=t.call(r)},n:function(){var l=t.next();return n=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function Jo(r,e){if(r){if(typeof r=="string")return Fi(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fi(r,e)}}function Fi(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}var Bo=Ce(),Ni=x(),Ri=Ni.erase,Zo=Ni.cursor,Ko=r=>[...Bo(r)].length;Gi.exports=function(r,e){if(!e)return Ri.line+Zo.to(0);let t=0,i=r.split(/\r?\n/);var s=zo(i),n;try{for(s.s();!(n=s.n()).done;){let o=n.value;t+=1+Math.floor(Math.max(Ko(o)-1,0)/e)}}catch(o){s.e(o)}finally{s.f()}return Ri.lines(t)}});var Ze=u((Tu,Wi)=>{"use strict";var ce={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Xo={arrowUp:ce.arrowUp,arrowDown:ce.arrowDown,arrowLeft:ce.arrowLeft,arrowRight:ce.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Qo=process.platform==="win32"?Xo:ce;Wi.exports=Qo});var Yi=u((Pu,Ui)=>{"use strict";var oe=y(),te=Ze(),Ke=Object.freeze({password:{scale:1,render:r=>"*".repeat(r.length)},emoji:{scale:2,render:r=>"\u{1F603}".repeat(r.length)},invisible:{scale:0,render:r=>""},default:{scale:1,render:r=>`${r}`}}),ea=r=>Ke[r]||Ke.default,de=Object.freeze({aborted:oe.red(te.cross),done:oe.green(te.tick),exited:oe.yellow(te.cross),default:oe.cyan("?")}),ta=(r,e,t)=>e?de.aborted:t?de.exited:r?de.done:de.default,ia=r=>oe.gray(r?te.ellipsis:te.pointerSmall),ra=(r,e)=>oe.gray(r?e?te.pointerSmall:"+":te.line);Ui.exports={styles:Ke,render:ea,symbols:de,symbol:ta,delimiter:ia,item:ra}});var Ji=u((ku,zi)=>{"use strict";var sa=Ce();zi.exports=function(r,e){let t=String(sa(r)||"").split(/\r?\n/);return e?t.map(i=>Math.ceil(i.length/e)).reduce((i,s)=>i+s):t.length}});var Zi=u((Iu,Bi)=>{"use strict";Bi.exports=(r,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(r||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((n,o)=>(o.length+t.length>=i||n[n.length-1].length+o.length+1<i?n[n.length-1]+=` ${o}`:n.push(`${t}${o}`),n),[t]).join(`
`)).join(`
`)}});var Xi=u((Du,Ki)=>{"use strict";Ki.exports=(r,e,t)=>{t=t||e;let i=Math.min(e-t,r-Math.floor(t/2));i<0&&(i=0);let s=Math.min(i+t,e);return{startIndex:i,endIndex:s}}});var E=u((Vu,Qi)=>{"use strict";Qi.exports={action:Vi(),clear:Li(),style:Yi(),strip:Ce(),figures:Ze(),lines:Ji(),wrap:Zi(),entriesToDisplay:Xi()}});var F=u((ju,ir)=>{"use strict";var er=require("readline"),na=E(),oa=na.action,aa=require("events"),tr=x(),ha=tr.beep,la=tr.cursor,ua=y(),Xe=class extends aa{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=er.createInterface({input:this.in,escapeCodeTimeout:50});er.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(n,o)=>{let a=oa(o,i);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(la.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(ha)}render(){this.onRender(ua),this.firstRender&&(this.firstRender=!1)}};ir.exports=Xe});var ar=u((Hu,or)=>{"use strict";function rr(r,e,t,i,s,n,o){try{var a=r[n](o),h=a.value}catch(l){t(l);return}a.done?e(h):Promise.resolve(h).then(i,s)}function sr(r){return function(){var e=this,t=arguments;return new Promise(function(i,s){var n=r.apply(e,t);function o(h){rr(n,i,s,o,a,"next",h)}function a(h){rr(n,i,s,o,a,"throw",h)}o(void 0)})}}var Me=y(),ca=F(),nr=x(),da=nr.erase,fe=nr.cursor,Ae=E(),Qe=Ae.style,et=Ae.clear,fa=Ae.lines,pa=Ae.figures,tt=class extends ca{constructor(e={}){super(e),this.transform=Qe.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=et("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=Me.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return sr(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return sr(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(fe.down(fa(this.outputError,this.out.columns)-1)+et(this.outputError,this.out.columns)),this.out.write(et(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Qe.symbol(this.done,this.aborted),Me.bold(this.msg),Qe.delimiter(this.done),this.red?Me.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":pa.pointerSmall} ${Me.red().italic(t)}`,"")),this.out.write(da.line+fe.to(0)+this.outputText+fe.save+this.outputError+fe.restore+fe.move(this.cursorOffset,0)))}};or.exports=tt});var cr=u((Fu,ur)=>{"use strict";var R=y(),ma=F(),pe=E(),hr=pe.style,lr=pe.clear,$e=pe.figures,ga=pe.wrap,ba=pe.entriesToDisplay,va=x(),wa=va.cursor,it=class extends ma{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=lr("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(wa.hide):this.out.write(lr(this.outputText,this.out.columns)),super.render();let e=ba(this.cursor,this.choices.length,this.optionsPerPage),t=e.startIndex,i=e.endIndex;if(this.outputText=[hr.symbol(this.done,this.aborted),R.bold(this.msg),hr.delimiter(!1),this.done?this.selection.title:this.selection.disabled?R.yellow(this.warn):R.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let s=t;s<i;s++){let n,o,a="",h=this.choices[s];s===t&&t>0?o=$e.arrowUp:s===i-1&&i<this.choices.length?o=$e.arrowDown:o=" ",h.disabled?(n=this.cursor===s?R.gray().underline(h.title):R.strikethrough().gray(h.title),o=(this.cursor===s?R.bold().gray($e.pointer)+" ":"  ")+o):(n=this.cursor===s?R.cyan().underline(h.title):h.title,o=(this.cursor===s?R.cyan($e.pointer)+" ":"  ")+o,h.description&&this.cursor===s&&(a=` - ${h.description}`,(o.length+n.length+a.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(a=`
`+ga(h.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${n}${R.gray(a)}
`}}this.out.write(this.outputText)}};ur.exports=it});var br=u((Ru,gr)=>{"use strict";var qe=y(),ya=F(),pr=E(),dr=pr.style,_a=pr.clear,mr=x(),fr=mr.cursor,xa=mr.erase,rt=class extends ya{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(fr.hide):this.out.write(_a(this.outputText,this.out.columns)),super.render(),this.outputText=[dr.symbol(this.done,this.aborted),qe.bold(this.msg),dr.delimiter(this.done),this.value?this.inactive:qe.cyan().underline(this.inactive),qe.gray("/"),this.value?qe.cyan().underline(this.active):this.active].join(" "),this.out.write(xa.line+fr.to(0)+this.outputText))}};gr.exports=rt});var P=u((Nu,vr)=>{"use strict";var st=class r{constructor({token:e,date:t,parts:i,locales:s}){this.token=e,this.date=t||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,i)=>i>e&&t instanceof r)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((i,s)=>s>t&&i instanceof r)}toString(){return String(this.date)}};vr.exports=st});var yr=u((Gu,wr)=>{"use strict";var Oa=P(),nt=class extends Oa{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};wr.exports=nt});var xr=u((Lu,_r)=>{"use strict";var Sa=P(),Ca=r=>(r=r%10,r===1?"st":r===2?"nd":r===3?"rd":"th"),ot=class extends Sa{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Ca(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};_r.exports=ot});var Sr=u((Wu,Or)=>{"use strict";var Ma=P(),at=class extends Ma{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};Or.exports=at});var Mr=u((Uu,Cr)=>{"use strict";var Aa=P(),ht=class extends Aa{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};Cr.exports=ht});var $r=u((Yu,Ar)=>{"use strict";var $a=P(),lt=class extends $a{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};Ar.exports=lt});var Er=u((zu,qr)=>{"use strict";var qa=P(),ut=class extends qa{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};qr.exports=ut});var Pr=u((Ju,Tr)=>{"use strict";var Ea=P(),ct=class extends Ea{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};Tr.exports=ct});var Ir=u((Bu,kr)=>{"use strict";var Ta=P(),dt=class extends Ta{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};kr.exports=dt});var Vr=u((Zu,Dr)=>{"use strict";Dr.exports={DatePart:P(),Meridiem:yr(),Day:xr(),Hours:Sr(),Milliseconds:Mr(),Minutes:$r(),Month:Er(),Seconds:Pr(),Year:Ir()}});var Yr=u((Ku,Ur)=>{"use strict";function jr(r,e,t,i,s,n,o){try{var a=r[n](o),h=a.value}catch(l){t(l);return}a.done?e(h):Promise.resolve(h).then(i,s)}function Hr(r){return function(){var e=this,t=arguments;return new Promise(function(i,s){var n=r.apply(e,t);function o(h){jr(n,i,s,o,a,"next",h)}function a(h){jr(n,i,s,o,a,"throw",h)}o(void 0)})}}var ft=y(),Pa=F(),mt=E(),Fr=mt.style,Rr=mt.clear,ka=mt.figures,Wr=x(),Ia=Wr.erase,Nr=Wr.cursor,N=Vr(),Gr=N.DatePart,Da=N.Meridiem,Va=N.Day,ja=N.Hours,Ha=N.Milliseconds,Fa=N.Minutes,Ra=N.Month,Na=N.Seconds,Ga=N.Year,La=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Lr={1:({token:r})=>r.replace(/\\(.)/g,"$1"),2:r=>new Va(r),3:r=>new Ra(r),4:r=>new Ga(r),5:r=>new Da(r),6:r=>new ja(r),7:r=>new Fa(r),8:r=>new Na(r),9:r=>new Ha(r)},Wa={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},pt=class extends Pa{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(Wa,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Rr("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=La.exec(e);){let s=t.shift(),n=t.findIndex(o=>o!=null);this.parts.push(n in Lr?Lr[n]({token:t[n]||s,date:this.date,parts:this.parts,locales:this.locales}):t[n]||s)}let i=this.parts.reduce((s,n)=>(typeof n=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=n:s.push(n),s),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof Gr)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Hr(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return Hr(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof Gr)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Nr.hide):this.out.write(Rr(this.outputText,this.out.columns)),super.render(),this.outputText=[Fr.symbol(this.done,this.aborted),ft.bold(this.msg),Fr.delimiter(!1),this.parts.reduce((e,t,i)=>e.concat(i===this.cursor&&!this.done?ft.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":ka.pointerSmall} ${ft.red().italic(t)}`,"")),this.out.write(Ia.line+Nr.to(0)+this.outputText))}};Ur.exports=pt});var Qr=u((Xu,Xr)=>{"use strict";function zr(r,e,t,i,s,n,o){try{var a=r[n](o),h=a.value}catch(l){t(l);return}a.done?e(h):Promise.resolve(h).then(i,s)}function Jr(r){return function(){var e=this,t=arguments;return new Promise(function(i,s){var n=r.apply(e,t);function o(h){zr(n,i,s,o,a,"next",h)}function a(h){zr(n,i,s,o,a,"throw",h)}o(void 0)})}}var Ee=y(),Ua=F(),Kr=x(),Te=Kr.cursor,Ya=Kr.erase,Pe=E(),gt=Pe.style,za=Pe.figures,Br=Pe.clear,Ja=Pe.lines,Ba=/[0-9]/,bt=r=>r!==void 0,Zr=(r,e)=>{let t=Math.pow(10,e);return Math.round(r*t)/t},vt=class extends Ua{constructor(e={}){super(e),this.transform=gt.render(e.style),this.msg=e.message,this.initial=bt(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=bt(e.min)?e.min:-1/0,this.max=bt(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=Ee.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Zr(e,this.round)}`),this._value=Zr(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||Ba.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return Jr(function*(){let t=yield e.validator(e.value);typeof t=="string"&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return Jr(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let t=e.value;e.value=t!==""?t:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Te.down(Ja(this.outputError,this.out.columns)-1)+Br(this.outputError,this.out.columns)),this.out.write(Br(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[gt.symbol(this.done,this.aborted),Ee.bold(this.msg),gt.delimiter(this.done),!this.done||!this.done&&!this.placeholder?Ee[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":za.pointerSmall} ${Ee.red().italic(t)}`,"")),this.out.write(Ya.line+Te.to(0)+this.outputText+Te.save+this.outputError+Te.restore))}};Xr.exports=vt});var yt=u((Qu,is)=>{"use strict";var k=y(),Za=x(),Ka=Za.cursor,Xa=F(),me=E(),es=me.clear,J=me.figures,ts=me.style,Qa=me.wrap,eh=me.entriesToDisplay,wt=class extends Xa{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=es("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${J.arrowUp}/${J.arrowDown}: Highlight option
    ${J.arrowLeft}/${J.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,i,s){let n=(t.selected?k.green(J.radioOn):J.radioOff)+" "+s+" ",o,a;return t.disabled?o=e===i?k.gray().underline(t.title):k.strikethrough().gray(t.title):(o=e===i?k.cyan().underline(t.title):t.title,e===i&&t.description&&(a=` - ${t.description}`,(n.length+o.length+a.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(a=`
`+Qa(t.description,{margin:n.length,width:this.out.columns})))),n+o+k.gray(a||"")}paginateOptions(e){if(e.length===0)return k.red("No matches for this query.");let t=eh(this.cursor,e.length,this.optionsPerPage),i=t.startIndex,s=t.endIndex,n,o=[];for(let a=i;a<s;a++)a===i&&i>0?n=J.arrowUp:a===s-1&&s<e.length?n=J.arrowDown:n=" ",o.push(this.renderOption(this.cursor,e[a],a,n));return`
`+o.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[k.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(k.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Ka.hide),super.render();let e=[ts.symbol(this.done,this.aborted),k.bold(this.msg),ts.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=k.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=es(e,this.out.columns)}};is.exports=wt});var ls=u((ec,hs)=>{"use strict";function rs(r,e,t,i,s,n,o){try{var a=r[n](o),h=a.value}catch(l){t(l);return}a.done?e(h):Promise.resolve(h).then(i,s)}function th(r){return function(){var e=this,t=arguments;return new Promise(function(i,s){var n=r.apply(e,t);function o(h){rs(n,i,s,o,a,"next",h)}function a(h){rs(n,i,s,o,a,"throw",h)}o(void 0)})}}var ge=y(),ih=F(),as=x(),rh=as.erase,ss=as.cursor,be=E(),_t=be.style,ns=be.clear,xt=be.figures,sh=be.wrap,nh=be.entriesToDisplay,os=(r,e)=>r[e]&&(r[e].value||r[e].title||r[e]),oh=(r,e)=>r[e]&&(r[e].title||r[e].value||r[e]),ah=(r,e)=>{let t=r.findIndex(i=>i.value===e||i.title===e);return t>-1?t:void 0},Ot=class extends ih{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:ah(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=_t.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=ns("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=os(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var t=this;return th(function*(){let i=t.completing=t.suggest(t.input,t.choices),s=yield i;if(t.completing!==i)return;t.suggestions=s.map((o,a,h)=>({title:oh(h,a),value:os(h,a),description:o.description})),t.completing=!1;let n=Math.max(s.length-1,0);t.moveSelect(Math.min(n,t.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${e}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,i,s){let n,o=i?xt.arrowUp:s?xt.arrowDown:" ",a=t?ge.cyan().underline(e.title):e.title;return o=(t?ge.cyan(xt.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+sh(e.description,{margin:3,width:this.out.columns}))),o+" "+a+ge.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(ss.hide):this.out.write(ns(this.outputText,this.out.columns)),super.render();let e=nh(this.select,this.choices.length,this.limit),t=e.startIndex,i=e.endIndex;if(this.outputText=[_t.symbol(this.done,this.aborted,this.exited),ge.bold(this.msg),_t.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let s=this.suggestions.slice(t,i).map((n,o)=>this.renderOption(n,this.select===o+t,o===0&&t>0,o+t===i-1&&i<this.choices.length)).join(`
`);this.outputText+=`
`+(s||ge.gray(this.fallback.title))}this.out.write(rh.line+ss.to(0)+this.outputText)}};hs.exports=Ot});var fs=u((tc,ds)=>{"use strict";var G=y(),hh=x(),lh=hh.cursor,uh=yt(),Ct=E(),us=Ct.clear,cs=Ct.style,ae=Ct.figures,St=class extends uh{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=us("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(i=>i===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${ae.arrowUp}/${ae.arrowDown}: Highlight option
    ${ae.arrowLeft}/${ae.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:G.gray("Enter something to filter")}
`}renderOption(e,t,i){let s;return t.disabled?s=e===i?G.gray().underline(t.title):G.strikethrough().gray(t.title):s=e===i?G.cyan().underline(t.title):t.title,(t.selected?G.green(ae.radioOn):ae.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[G.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(G.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(lh.hide),super.render();let e=[cs.symbol(this.done,this.aborted),G.bold(this.msg),cs.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=G.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=us(e,this.out.columns)}};ds.exports=St});var ys=u((ic,ws)=>{"use strict";var ps=y(),ch=F(),bs=E(),ms=bs.style,dh=bs.clear,vs=x(),fh=vs.erase,gs=vs.cursor,Mt=class extends ch{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(gs.hide):this.out.write(dh(this.outputText,this.out.columns)),super.render(),this.outputText=[ms.symbol(this.done,this.aborted),ps.bold(this.msg),ms.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:ps.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(fh.line+gs.to(0)+this.outputText))}};ws.exports=Mt});var xs=u((rc,_s)=>{"use strict";_s.exports={TextPrompt:ar(),SelectPrompt:cr(),TogglePrompt:br(),DatePrompt:Yr(),NumberPrompt:Qr(),MultiselectPrompt:yt(),AutocompletePrompt:ls(),AutocompleteMultiselectPrompt:fs(),ConfirmPrompt:ys()}});var Ss=u(Os=>{"use strict";var C=Os,ph=xs(),ke=r=>r;function I(r,e,t={}){return new Promise((i,s)=>{let n=new ph[r](e),o=t.onAbort||ke,a=t.onSubmit||ke,h=t.onExit||ke;n.on("state",e.onState||ke),n.on("submit",l=>i(a(l))),n.on("exit",l=>i(h(l))),n.on("abort",l=>s(o(l)))})}C.text=r=>I("TextPrompt",r);C.password=r=>(r.style="password",C.text(r));C.invisible=r=>(r.style="invisible",C.text(r));C.number=r=>I("NumberPrompt",r);C.date=r=>I("DatePrompt",r);C.confirm=r=>I("ConfirmPrompt",r);C.list=r=>{let e=r.separator||",";return I("TextPrompt",r,{onSubmit:t=>t.split(e).map(i=>i.trim())})};C.toggle=r=>I("TogglePrompt",r);C.select=r=>I("SelectPrompt",r);C.multiselect=r=>{r.choices=[].concat(r.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return I("MultiselectPrompt",r,{onAbort:e,onSubmit:e})};C.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return I("AutocompleteMultiselectPrompt",r,{onAbort:e,onSubmit:e})};var mh=(r,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));C.autocomplete=r=>(r.suggest=r.suggest||mh,r.choices=[].concat(r.choices||[]),I("AutocompletePrompt",r))});var Ps=u((nc,Ts)=>{"use strict";function Cs(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,i)}return t}function Ms(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Cs(Object(t),!0).forEach(function(i){gh(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Cs(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function gh(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bh(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=vh(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var i=0,s=function(){};return{s,n:function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}},e:function(l){throw l},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=!0,o=!1,a;return{s:function(){t=t.call(r)},n:function(){var l=t.next();return n=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!n&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function vh(r,e){if(r){if(typeof r=="string")return As(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return As(r,e)}}function As(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=r[t];return i}function $s(r,e,t,i,s,n,o){try{var a=r[n](o),h=a.value}catch(l){t(l);return}a.done?e(h):Promise.resolve(h).then(i,s)}function qs(r){return function(){var e=this,t=arguments;return new Promise(function(i,s){var n=r.apply(e,t);function o(h){$s(n,i,s,o,a,"next",h)}function a(h){$s(n,i,s,o,a,"throw",h)}o(void 0)})}}var At=Ss(),wh=["suggest","format","onState","validate","onRender","type"],Es=()=>{};function B(){return $t.apply(this,arguments)}function $t(){return $t=qs(function*(r=[],{onSubmit:e=Es,onCancel:t=Es}={}){let i={},s=B._override||{};r=[].concat(r);let n,o,a,h,l,c,m=function(){var O=qs(function*(w,Se,Ci=!1){if(!(!Ci&&w.validate&&w.validate(Se)!==!0))return w.format?yield w.format(Se,i):Se});return function(Se,Ci){return O.apply(this,arguments)}}();var f=bh(r),p;try{for(f.s();!(p=f.n()).done;){o=p.value;var d=o;if(h=d.name,l=d.type,typeof l=="function"&&(l=yield l(n,Ms({},i),o),o.type=l),!!l){for(let O in o){if(wh.includes(O))continue;let w=o[O];o[O]=typeof w=="function"?yield w(n,Ms({},i),c):w}if(c=o,typeof o.message!="string")throw new Error("prompt message is required");var b=o;if(h=b.name,l=b.type,At[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(s[o.name]!==void 0&&(n=yield m(o,s[o.name]),n!==void 0)){i[h]=n;continue}try{n=B._injected?yh(B._injected,o.initial):yield At[l](o),i[h]=n=yield m(o,n,!0),a=yield e(o,n,i)}catch{a=!(yield t(o,i))}if(a)return i}}}catch(O){f.e(O)}finally{f.f()}return i}),$t.apply(this,arguments)}function yh(r,e){let t=r.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function _h(r){B._injected=(B._injected||[]).concat(r)}function xh(r){B._override=Object.assign({},r)}Ts.exports=Object.assign(B,{prompt:B,prompts:At,inject:_h,override:xh})});var Is=u((oc,ks)=>{"use strict";ks.exports=(r,e)=>{if(!(r.meta&&r.name!=="escape")){if(r.ctrl){if(r.name==="a")return"first";if(r.name==="c"||r.name==="d")return"abort";if(r.name==="e")return"last";if(r.name==="g")return"reset"}if(e){if(r.name==="j")return"down";if(r.name==="k")return"up"}return r.name==="return"||r.name==="enter"?"submit":r.name==="backspace"?"delete":r.name==="delete"?"deleteForward":r.name==="abort"?"abort":r.name==="escape"?"exit":r.name==="tab"?"next":r.name==="pagedown"?"nextPage":r.name==="pageup"?"prevPage":r.name==="home"?"home":r.name==="end"?"end":r.name==="up"?"up":r.name==="down"?"down":r.name==="right"?"right":r.name==="left"?"left":!1}}});var Ie=u((ac,Ds)=>{"use strict";Ds.exports=r=>{let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),t=new RegExp(e,"g");return typeof r=="string"?r.replace(t,""):r}});var Hs=u((hc,js)=>{"use strict";var Oh=Ie(),{erase:Vs,cursor:Sh}=x(),Ch=r=>[...Oh(r)].length;js.exports=function(r,e){if(!e)return Vs.line+Sh.to(0);let t=0,i=r.split(/\r?\n/);for(let s of i)t+=1+Math.floor(Math.max(Ch(s)-1,0)/e);return Vs.lines(t)}});var qt=u((lc,Fs)=>{"use strict";var ve={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},Mh={arrowUp:ve.arrowUp,arrowDown:ve.arrowDown,arrowLeft:ve.arrowLeft,arrowRight:ve.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"},Ah=process.platform==="win32"?Mh:ve;Fs.exports=Ah});var Ns=u((uc,Rs)=>{"use strict";var he=y(),ie=qt(),Et=Object.freeze({password:{scale:1,render:r=>"*".repeat(r.length)},emoji:{scale:2,render:r=>"\u{1F603}".repeat(r.length)},invisible:{scale:0,render:r=>""},default:{scale:1,render:r=>`${r}`}}),$h=r=>Et[r]||Et.default,we=Object.freeze({aborted:he.red(ie.cross),done:he.green(ie.tick),exited:he.yellow(ie.cross),default:he.cyan("?")}),qh=(r,e,t)=>e?we.aborted:t?we.exited:r?we.done:we.default,Eh=r=>he.gray(r?ie.ellipsis:ie.pointerSmall),Th=(r,e)=>he.gray(r?e?ie.pointerSmall:"+":ie.line);Rs.exports={styles:Et,render:$h,symbols:we,symbol:qh,delimiter:Eh,item:Th}});var Ls=u((cc,Gs)=>{"use strict";var Ph=Ie();Gs.exports=function(r,e){let t=String(Ph(r)||"").split(/\r?\n/);return e?t.map(i=>Math.ceil(i.length/e)).reduce((i,s)=>i+s):t.length}});var Us=u((dc,Ws)=>{"use strict";Ws.exports=(r,e={})=>{let t=Number.isSafeInteger(parseInt(e.margin))?new Array(parseInt(e.margin)).fill(" ").join(""):e.margin||"",i=e.width;return(r||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((n,o)=>(o.length+t.length>=i||n[n.length-1].length+o.length+1<i?n[n.length-1]+=` ${o}`:n.push(`${t}${o}`),n),[t]).join(`
`)).join(`
`)}});var zs=u((fc,Ys)=>{"use strict";Ys.exports=(r,e,t)=>{t=t||e;let i=Math.min(e-t,r-Math.floor(t/2));i<0&&(i=0);let s=Math.min(i+t,e);return{startIndex:i,endIndex:s}}});var T=u((pc,Js)=>{"use strict";Js.exports={action:Is(),clear:Hs(),style:Ns(),strip:Ie(),figures:qt(),lines:Ls(),wrap:Us(),entriesToDisplay:zs()}});var L=u((mc,Zs)=>{"use strict";var Bs=require("readline"),{action:kh}=T(),Ih=require("events"),{beep:Dh,cursor:Vh}=x(),jh=y(),Tt=class extends Ih{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);let t=Bs.createInterface({input:this.in,escapeCodeTimeout:50});Bs.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,s=(n,o)=>{let a=kh(o,i);a===!1?this._&&this._(n,o):typeof this[a]=="function"?this[a](o):this.bell()};this.close=()=>{this.out.write(Vh.show),this.in.removeListener("keypress",s),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",s)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(Dh)}render(){this.onRender(jh),this.firstRender&&(this.firstRender=!1)}};Zs.exports=Tt});var Xs=u((gc,Ks)=>{var De=y(),Hh=L(),{erase:Fh,cursor:ye}=x(),{style:Pt,clear:kt,lines:Rh,figures:Nh}=T(),It=class extends Hh{constructor(e={}){super(e),this.transform=Pt.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=kt("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=De.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let i=this.value.slice(0,this.cursor),s=this.value.slice(this.cursor);this.value=`${i}${e}${s}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ye.down(Rh(this.outputError,this.out.columns)-1)+kt(this.outputError,this.out.columns)),this.out.write(kt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Pt.symbol(this.done,this.aborted),De.bold(this.msg),Pt.delimiter(this.done),this.red?De.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":Nh.pointerSmall} ${De.red().italic(t)}`,"")),this.out.write(Fh.line+ye.to(0)+this.outputText+ye.save+this.outputError+ye.restore+ye.move(this.cursorOffset,0)))}};Ks.exports=It});var rn=u((bc,tn)=>{"use strict";var W=y(),Gh=L(),{style:Qs,clear:en,figures:Ve,wrap:Lh,entriesToDisplay:Wh}=T(),{cursor:Uh}=x(),Dt=class extends Gh{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),value:t&&(t.value===void 0?i:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=en("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Uh.hide):this.out.write(en(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=Wh(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[Qs.symbol(this.done,this.aborted),W.bold(this.msg),Qs.delimiter(!1),this.done?this.selection.title:this.selection.disabled?W.yellow(this.warn):W.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let i=e;i<t;i++){let s,n,o="",a=this.choices[i];i===e&&e>0?n=Ve.arrowUp:i===t-1&&t<this.choices.length?n=Ve.arrowDown:n=" ",a.disabled?(s=this.cursor===i?W.gray().underline(a.title):W.strikethrough().gray(a.title),n=(this.cursor===i?W.bold().gray(Ve.pointer)+" ":"  ")+n):(s=this.cursor===i?W.cyan().underline(a.title):a.title,n=(this.cursor===i?W.cyan(Ve.pointer)+" ":"  ")+n,a.description&&this.cursor===i&&(o=` - ${a.description}`,(n.length+s.length+o.length>=this.out.columns||a.description.split(/\r?\n/).length>1)&&(o=`
`+Lh(a.description,{margin:3,width:this.out.columns})))),this.outputText+=`${n} ${s}${W.gray(o)}
`}}this.out.write(this.outputText)}};tn.exports=Dt});var an=u((vc,on)=>{var je=y(),Yh=L(),{style:sn,clear:zh}=T(),{cursor:nn,erase:Jh}=x(),Vt=class extends Yh{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(e===" ")this.value=!this.value;else if(e==="1")this.value=!0;else if(e==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(nn.hide):this.out.write(zh(this.outputText,this.out.columns)),super.render(),this.outputText=[sn.symbol(this.done,this.aborted),je.bold(this.msg),sn.delimiter(this.done),this.value?this.inactive:je.cyan().underline(this.inactive),je.gray("/"),this.value?je.cyan().underline(this.active):this.active].join(" "),this.out.write(Jh.line+nn.to(0)+this.outputText))}};on.exports=Vt});var D=u((wc,hn)=>{"use strict";var jt=class r{constructor({token:e,date:t,parts:i,locales:s}){this.token=e,this.date=t||new Date,this.parts=i||[this],this.locales=s||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((t,i)=>i>e&&t instanceof r)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),t=e.indexOf(this);return e.find((i,s)=>s>t&&i instanceof r)}toString(){return String(this.date)}};hn.exports=jt});var un=u((yc,ln)=>{"use strict";var Bh=D(),Ht=class extends Bh{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}};ln.exports=Ht});var dn=u((_c,cn)=>{"use strict";var Zh=D(),Kh=r=>(r=r%10,r===1?"st":r===2?"nd":r===3?"rd":"th"),Ft=class extends Zh{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+Kh(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}};cn.exports=Ft});var pn=u((xc,fn)=>{"use strict";var Xh=D(),Rt=class extends Xh{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}};fn.exports=Rt});var gn=u((Oc,mn)=>{"use strict";var Qh=D(),Nt=class extends Qh{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}};mn.exports=Nt});var vn=u((Sc,bn)=>{"use strict";var el=D(),Gt=class extends el{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}};bn.exports=Gt});var yn=u((Cc,wn)=>{"use strict";var tl=D(),Lt=class extends tl{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}};wn.exports=Lt});var xn=u((Mc,_n)=>{"use strict";var il=D(),Wt=class extends il{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}};_n.exports=Wt});var Sn=u((Ac,On)=>{"use strict";var rl=D(),Ut=class extends rl{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}};On.exports=Ut});var Mn=u(($c,Cn)=>{"use strict";Cn.exports={DatePart:D(),Meridiem:un(),Day:dn(),Hours:pn(),Milliseconds:gn(),Minutes:vn(),Month:yn(),Seconds:xn(),Year:Sn()}});var kn=u((qc,Pn)=>{"use strict";var Yt=y(),sl=L(),{style:An,clear:$n,figures:nl}=T(),{erase:ol,cursor:qn}=x(),{DatePart:En,Meridiem:al,Day:hl,Hours:ll,Milliseconds:ul,Minutes:cl,Month:dl,Seconds:fl,Year:pl}=Mn(),ml=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,Tn={1:({token:r})=>r.replace(/\\(.)/g,"$1"),2:r=>new hl(r),3:r=>new dl(r),4:r=>new pl(r),5:r=>new al(r),6:r=>new ll(r),7:r=>new cl(r),8:r=>new fl(r),9:r=>new ul(r)},gl={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},zt=class extends sl{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(gl,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=$n("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=ml.exec(e);){let s=t.shift(),n=t.findIndex(o=>o!=null);this.parts.push(n in Tn?Tn[n]({token:t[n]||s,date:this.date,parts:this.parts,locales:this.locales}):t[n]||s)}let i=this.parts.reduce((s,n)=>(typeof n=="string"&&typeof s[s.length-1]=="string"?s[s.length-1]+=n:s.push(n),s),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof En)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(t=>t instanceof En)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(qn.hide):this.out.write($n(this.outputText,this.out.columns)),super.render(),this.outputText=[An.symbol(this.done,this.aborted),Yt.bold(this.msg),An.delimiter(!1),this.parts.reduce((e,t,i)=>e.concat(i===this.cursor&&!this.done?Yt.cyan().underline(t.toString()):t),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":nl.pointerSmall} ${Yt.red().italic(t)}`,"")),this.out.write(ol.line+qn.to(0)+this.outputText))}};Pn.exports=zt});var jn=u((Ec,Vn)=>{var He=y(),bl=L(),{cursor:Fe,erase:vl}=x(),{style:Jt,figures:wl,clear:In,lines:yl}=T(),_l=/[0-9]/,Bt=r=>r!==void 0,Dn=(r,e)=>{let t=Math.pow(10,e);return Math.round(r*t)/t},Zt=class extends bl{constructor(e={}){super(e),this.transform=Jt.render(e.style),this.msg=e.message,this.initial=Bt(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=Bt(e.min)?e.min:-1/0,this.max=Bt(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){!e&&e!==0?(this.placeholder=!0,this.rendered=He.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${Dn(e,this.round)}`),this._value=Dn(e,this.round)),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e==="-"||e==="."&&this.float||_l.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=e!==""?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);typeof e=="string"&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=e!==""?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan",e===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(Fe.down(yl(this.outputError,this.out.columns)-1)+In(this.outputError,this.out.columns)),this.out.write(In(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[Jt.symbol(this.done,this.aborted),He.bold(this.msg),Jt.delimiter(this.done),!this.done||!this.done&&!this.placeholder?He[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":wl.pointerSmall} ${He.red().italic(t)}`,"")),this.out.write(vl.line+Fe.to(0)+this.outputText+Fe.save+this.outputError+Fe.restore))}};Vn.exports=Zt});var Xt=u((Tc,Rn)=>{"use strict";var V=y(),{cursor:xl}=x(),Ol=L(),{clear:Hn,figures:Z,style:Fn,wrap:Sl,entriesToDisplay:Cl}=T(),Kt=class extends Ol{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((t,i)=>(typeof t=="string"&&(t={title:t,value:i}),{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===void 0?i:t.value),selected:t&&t.selected,disabled:t&&t.disabled})),this.clear=Hn("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){let e=this.value.filter(t=>t.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(t=>!t.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(e===" ")this.handleSpaceToggle();else if(e==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${Z.arrowUp}/${Z.arrowDown}: Highlight option
    ${Z.arrowLeft}/${Z.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,i,s){let n=(t.selected?V.green(Z.radioOn):Z.radioOff)+" "+s+" ",o,a;return t.disabled?o=e===i?V.gray().underline(t.title):V.strikethrough().gray(t.title):(o=e===i?V.cyan().underline(t.title):t.title,e===i&&t.description&&(a=` - ${t.description}`,(n.length+o.length+a.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(a=`
`+Sl(t.description,{margin:n.length,width:this.out.columns})))),n+o+V.gray(a||"")}paginateOptions(e){if(e.length===0)return V.red("No matches for this query.");let{startIndex:t,endIndex:i}=Cl(this.cursor,e.length,this.optionsPerPage),s,n=[];for(let o=t;o<i;o++)o===t&&t>0?s=Z.arrowUp:o===i-1&&i<e.length?s=Z.arrowDown:s=" ",n.push(this.renderOption(this.cursor,e[o],o,s));return`
`+n.join(`
`)}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[V.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(V.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(xl.hide),super.render();let e=[Fn.symbol(this.done,this.aborted),V.bold(this.msg),Fn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=V.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Hn(e,this.out.columns)}};Rn.exports=Kt});var Un=u((Pc,Wn)=>{"use strict";var _e=y(),Ml=L(),{erase:Al,cursor:Nn}=x(),{style:Qt,clear:Gn,figures:ei,wrap:$l,entriesToDisplay:ql}=T(),Ln=(r,e)=>r[e]&&(r[e].value||r[e].title||r[e]),El=(r,e)=>r[e]&&(r[e].title||r[e].value||r[e]),Tl=(r,e)=>{let t=r.findIndex(i=>i.value===e||i.title===e);return t>-1?t:void 0},ti=class extends Ml{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial=typeof e.initial=="number"?e.initial:Tl(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Qt.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Gn("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return typeof this._fb=="number"?e=this.choices[this._fb]:typeof this._fb=="string"&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=Ln(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let t=this.completing=this.suggest(this.input,this.choices),i=await t;if(this.completing!==t)return;this.suggestions=i.map((n,o,a)=>({title:El(a,o),value:Ln(a,o),description:n.description})),this.completing=!1;let s=Math.max(i.length-1,0);this.moveSelect(Math.min(s,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){let i=this.input.slice(0,this.cursor),s=this.input.slice(this.cursor);this.input=`${i}${e}${s}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,i,s){let n,o=i?ei.arrowUp:s?ei.arrowDown:" ",a=t?_e.cyan().underline(e.title):e.title;return o=(t?_e.cyan(ei.pointer)+" ":"  ")+o,e.description&&(n=` - ${e.description}`,(o.length+a.length+n.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(n=`
`+$l(e.description,{margin:3,width:this.out.columns}))),o+" "+a+_e.gray(n||"")}render(){if(this.closed)return;this.firstRender?this.out.write(Nn.hide):this.out.write(Gn(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=ql(this.select,this.choices.length,this.limit);if(this.outputText=[Qt.symbol(this.done,this.aborted,this.exited),_e.bold(this.msg),Qt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(e,t).map((s,n)=>this.renderOption(s,this.select===n+e,n===0&&e>0,n+e===t-1&&t<this.choices.length)).join(`
`);this.outputText+=`
`+(i||_e.gray(this.fallback.title))}this.out.write(Al.line+Nn.to(0)+this.outputText)}};Wn.exports=ti});var Bn=u((kc,Jn)=>{"use strict";var U=y(),{cursor:Pl}=x(),kl=Xt(),{clear:Yn,style:zn,figures:le}=T(),ii=class extends kl{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=Yn("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(i=>this.inputValue?!!(typeof i.title=="string"&&i.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof i.value=="string"&&i.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);let t=this.filteredOptions.findIndex(i=>i===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(t=>t.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){e===" "?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${le.arrowUp}/${le.arrowDown}: Highlight option
    ${le.arrowLeft}/${le.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:U.gray("Enter something to filter")}
`}renderOption(e,t,i){let s;return t.disabled?s=e===i?U.gray().underline(t.title):U.strikethrough().gray(t.title):s=e===i?U.cyan().underline(t.title):t.title,(t.selected?U.green(le.radioOn):le.radioOff)+"  "+s}renderDoneOrInstructions(){if(this.done)return this.value.filter(t=>t.selected).map(t=>t.title).join(", ");let e=[U.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(U.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Pl.hide),super.render();let e=[zn.symbol(this.done,this.aborted),U.bold(this.msg),zn.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=U.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=Yn(e,this.out.columns)}};Jn.exports=ii});var eo=u((Ic,Qn)=>{var Zn=y(),Il=L(),{style:Kn,clear:Dl}=T(),{erase:Vl,cursor:Xn}=x(),ri=class extends Il{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(e,t){return e.toLowerCase()==="y"?(this.value=!0,this.submit()):e.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(Xn.hide):this.out.write(Dl(this.outputText,this.out.columns)),super.render(),this.outputText=[Kn.symbol(this.done,this.aborted),Zn.bold(this.msg),Kn.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:Zn.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Vl.line+Xn.to(0)+this.outputText))}};Qn.exports=ri});var io=u((Dc,to)=>{"use strict";to.exports={TextPrompt:Xs(),SelectPrompt:rn(),TogglePrompt:an(),DatePrompt:kn(),NumberPrompt:jn(),MultiselectPrompt:Xt(),AutocompletePrompt:Un(),AutocompleteMultiselectPrompt:Bn(),ConfirmPrompt:eo()}});var so=u(ro=>{"use strict";var M=ro,jl=io(),Re=r=>r;function j(r,e,t={}){return new Promise((i,s)=>{let n=new jl[r](e),o=t.onAbort||Re,a=t.onSubmit||Re,h=t.onExit||Re;n.on("state",e.onState||Re),n.on("submit",l=>i(a(l))),n.on("exit",l=>i(h(l))),n.on("abort",l=>s(o(l)))})}M.text=r=>j("TextPrompt",r);M.password=r=>(r.style="password",M.text(r));M.invisible=r=>(r.style="invisible",M.text(r));M.number=r=>j("NumberPrompt",r);M.date=r=>j("DatePrompt",r);M.confirm=r=>j("ConfirmPrompt",r);M.list=r=>{let e=r.separator||",";return j("TextPrompt",r,{onSubmit:t=>t.split(e).map(i=>i.trim())})};M.toggle=r=>j("TogglePrompt",r);M.select=r=>j("SelectPrompt",r);M.multiselect=r=>{r.choices=[].concat(r.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return j("MultiselectPrompt",r,{onAbort:e,onSubmit:e})};M.autocompleteMultiselect=r=>{r.choices=[].concat(r.choices||[]);let e=t=>t.filter(i=>i.selected).map(i=>i.value);return j("AutocompleteMultiselectPrompt",r,{onAbort:e,onSubmit:e})};var Hl=(r,e)=>Promise.resolve(e.filter(t=>t.title.slice(0,r.length).toLowerCase()===r.toLowerCase()));M.autocomplete=r=>(r.suggest=r.suggest||Hl,r.choices=[].concat(r.choices||[]),j("AutocompletePrompt",r))});var ao=u((jc,oo)=>{"use strict";var si=so(),Fl=["suggest","format","onState","validate","onRender","type"],no=()=>{};async function K(r=[],{onSubmit:e=no,onCancel:t=no}={}){let i={},s=K._override||{};r=[].concat(r);let n,o,a,h,l,c,m=async(f,p,d=!1)=>{if(!(!d&&f.validate&&f.validate(p)!==!0))return f.format?await f.format(p,i):p};for(o of r)if({name:h,type:l}=o,typeof l=="function"&&(l=await l(n,{...i},o),o.type=l),!!l){for(let f in o){if(Fl.includes(f))continue;let p=o[f];o[f]=typeof p=="function"?await p(n,{...i},c):p}if(c=o,typeof o.message!="string")throw new Error("prompt message is required");if({name:h,type:l}=o,si[l]===void 0)throw new Error(`prompt type (${l}) is not defined`);if(s[o.name]!==void 0&&(n=await m(o,s[o.name]),n!==void 0)){i[h]=n;continue}try{n=K._injected?Rl(K._injected,o.initial):await si[l](o),i[h]=n=await m(o,n,!0),a=await e(o,n,i)}catch{a=!await t(o,i)}if(a)return i}return i}function Rl(r,e){let t=r.shift();if(t instanceof Error)throw t;return t===void 0?e:t}function Nl(r){K._injected=(K._injected||[]).concat(r)}function Gl(r){K._override=Object.assign({},r)}oo.exports=Object.assign(K,{prompt:K,prompts:si,inject:Nl,override:Gl})});var lo=u((Hc,ho)=>{function Ll(r){r=(Array.isArray(r)?r:r.split(".")).map(Number);let e=0,t=process.versions.node.split(".").map(Number);for(;e<r.length;e++){if(t[e]>r[e])return!1;if(r[e]>t[e])return!0}return!1}ho.exports=Ll("8.6.0")?Ps():ao()});var xe=u(oi=>{var Ne=class extends Error{constructor(e,t,i){super(i),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=t,this.exitCode=e,this.nestedError=void 0}},ni=class extends Ne{constructor(e){super(1,"commander.invalidArgument",e),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};oi.CommanderError=Ne;oi.InvalidArgumentError=ni});var Ge=u(hi=>{var{InvalidArgumentError:Wl}=xe(),ai=class{constructor(e,t){switch(this.description=t||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,e[0]){case"<":this.required=!0,this._name=e.slice(1,-1);break;case"[":this.required=!1,this._name=e.slice(1,-1);break;default:this.required=!0,this._name=e;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}argParser(e){return this.parseArg=e,this}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,i)=>{if(!this.argChoices.includes(t))throw new Wl(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,i):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function Ul(r){let e=r.name()+(r.variadic===!0?"...":"");return r.required?"<"+e+">":"["+e+"]"}hi.Argument=ai;hi.humanReadableArgName=Ul});var ui=u(uo=>{var{humanReadableArgName:Yl}=Ge(),li=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(e){let t=e.commands.filter(s=>!s._hidden),i=e._getHelpCommand();return i&&!i._hidden&&t.push(i),this.sortSubcommands&&t.sort((s,n)=>s.name().localeCompare(n.name())),t}compareOptions(e,t){let i=s=>s.short?s.short.replace(/^-/,""):s.long.replace(/^--/,"");return i(e).localeCompare(i(t))}visibleOptions(e){let t=e.options.filter(s=>!s.hidden),i=e._getHelpOption();if(i&&!i.hidden){let s=i.short&&e._findOption(i.short),n=i.long&&e._findOption(i.long);!s&&!n?t.push(i):i.long&&!n?t.push(e.createOption(i.long,i.description)):i.short&&!s&&t.push(e.createOption(i.short,i.description))}return this.sortOptions&&t.sort(this.compareOptions),t}visibleGlobalOptions(e){if(!this.showGlobalOptions)return[];let t=[];for(let i=e.parent;i;i=i.parent){let s=i.options.filter(n=>!n.hidden);t.push(...s)}return this.sortOptions&&t.sort(this.compareOptions),t}visibleArguments(e){return e._argsDescription&&e.registeredArguments.forEach(t=>{t.description=t.description||e._argsDescription[t.name()]||""}),e.registeredArguments.find(t=>t.description)?e.registeredArguments:[]}subcommandTerm(e){let t=e.registeredArguments.map(i=>Yl(i)).join(" ");return e._name+(e._aliases[0]?"|"+e._aliases[0]:"")+(e.options.length?" [options]":"")+(t?" "+t:"")}optionTerm(e){return e.flags}argumentTerm(e){return e.name()}longestSubcommandTermLength(e,t){return t.visibleCommands(e).reduce((i,s)=>Math.max(i,t.subcommandTerm(s).length),0)}longestOptionTermLength(e,t){return t.visibleOptions(e).reduce((i,s)=>Math.max(i,t.optionTerm(s).length),0)}longestGlobalOptionTermLength(e,t){return t.visibleGlobalOptions(e).reduce((i,s)=>Math.max(i,t.optionTerm(s).length),0)}longestArgumentTermLength(e,t){return t.visibleArguments(e).reduce((i,s)=>Math.max(i,t.argumentTerm(s).length),0)}commandUsage(e){let t=e._name;e._aliases[0]&&(t=t+"|"+e._aliases[0]);let i="";for(let s=e.parent;s;s=s.parent)i=s.name()+" "+i;return i+t+" "+e.usage()}commandDescription(e){return e.description()}subcommandDescription(e){return e.summary()||e.description()}optionDescription(e){let t=[];return e.argChoices&&t.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&(e.required||e.optional||e.isBoolean()&&typeof e.defaultValue=="boolean")&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),e.presetArg!==void 0&&e.optional&&t.push(`preset: ${JSON.stringify(e.presetArg)}`),e.envVar!==void 0&&t.push(`env: ${e.envVar}`),t.length>0?`${e.description} (${t.join(", ")})`:e.description}argumentDescription(e){let t=[];if(e.argChoices&&t.push(`choices: ${e.argChoices.map(i=>JSON.stringify(i)).join(", ")}`),e.defaultValue!==void 0&&t.push(`default: ${e.defaultValueDescription||JSON.stringify(e.defaultValue)}`),t.length>0){let i=`(${t.join(", ")})`;return e.description?`${e.description} ${i}`:i}return e.description}formatHelp(e,t){let i=t.padWidth(e,t),s=t.helpWidth||80,n=2,o=2;function a(d,b){if(b){let O=`${d.padEnd(i+o)}${b}`;return t.wrap(O,s-n,i+o)}return d}function h(d){return d.join(`
`).replace(/^/gm," ".repeat(n))}let l=[`Usage: ${t.commandUsage(e)}`,""],c=t.commandDescription(e);c.length>0&&(l=l.concat([t.wrap(c,s,0),""]));let m=t.visibleArguments(e).map(d=>a(t.argumentTerm(d),t.argumentDescription(d)));m.length>0&&(l=l.concat(["Arguments:",h(m),""]));let f=t.visibleOptions(e).map(d=>a(t.optionTerm(d),t.optionDescription(d)));if(f.length>0&&(l=l.concat(["Options:",h(f),""])),this.showGlobalOptions){let d=t.visibleGlobalOptions(e).map(b=>a(t.optionTerm(b),t.optionDescription(b)));d.length>0&&(l=l.concat(["Global Options:",h(d),""]))}let p=t.visibleCommands(e).map(d=>a(t.subcommandTerm(d),t.subcommandDescription(d)));return p.length>0&&(l=l.concat(["Commands:",h(p),""])),l.join(`
`)}padWidth(e,t){return Math.max(t.longestOptionTermLength(e,t),t.longestGlobalOptionTermLength(e,t),t.longestSubcommandTermLength(e,t),t.longestArgumentTermLength(e,t))}wrap(e,t,i,s=40){let n=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",o=new RegExp(`[\\n][${n}]+`);if(e.match(o))return e;let a=t-i;if(a<s)return e;let h=e.slice(0,i),l=e.slice(i).replace(`\r
`,`
`),c=" ".repeat(i),f="\\s\u200B",p=new RegExp(`
|.{1,${a-1}}([${f}]|$)|[^${f}]+?([${f}]|$)`,"g"),d=l.match(p)||[];return h+d.map((b,O)=>b===`
`?"":(O>0?c:"")+b.trimEnd()).join(`
`)}};uo.Help=li});var pi=u(fi=>{var{InvalidArgumentError:zl}=xe(),ci=class{constructor(e,t){this.flags=e,this.description=t||"",this.required=e.includes("<"),this.optional=e.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(e),this.mandatory=!1;let i=Bl(e);this.short=i.shortFlag,this.long=i.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(e,t){return this.defaultValue=e,this.defaultValueDescription=t,this}preset(e){return this.presetArg=e,this}conflicts(e){return this.conflictsWith=this.conflictsWith.concat(e),this}implies(e){let t=e;return typeof e=="string"&&(t={[e]:!0}),this.implied=Object.assign(this.implied||{},t),this}env(e){return this.envVar=e,this}argParser(e){return this.parseArg=e,this}makeOptionMandatory(e=!0){return this.mandatory=!!e,this}hideHelp(e=!0){return this.hidden=!!e,this}_concatValue(e,t){return t===this.defaultValue||!Array.isArray(t)?[e]:t.concat(e)}choices(e){return this.argChoices=e.slice(),this.parseArg=(t,i)=>{if(!this.argChoices.includes(t))throw new zl(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,i):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return Jl(this.name().replace(/^no-/,""))}is(e){return this.short===e||this.long===e}isBoolean(){return!this.required&&!this.optional&&!this.negate}},di=class{constructor(e){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,e.forEach(t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)}),this.negativeOptions.forEach((t,i)=>{this.positiveOptions.has(i)&&this.dualOptions.add(i)})}valueFromOption(e,t){let i=t.attributeName();if(!this.dualOptions.has(i))return!0;let s=this.negativeOptions.get(i).presetArg,n=s!==void 0?s:!1;return t.negate===(n===e)}};function Jl(r){return r.split("-").reduce((e,t)=>e+t[0].toUpperCase()+t.slice(1))}function Bl(r){let e,t,i=r.split(/[ |,]+/);return i.length>1&&!/^[[<]/.test(i[1])&&(e=i.shift()),t=i.shift(),!e&&/^-[^-]$/.test(t)&&(e=t,t=void 0),{shortFlag:e,longFlag:t}}fi.Option=ci;fi.DualOptions=di});var fo=u(co=>{function Zl(r,e){if(Math.abs(r.length-e.length)>3)return Math.max(r.length,e.length);let t=[];for(let i=0;i<=r.length;i++)t[i]=[i];for(let i=0;i<=e.length;i++)t[0][i]=i;for(let i=1;i<=e.length;i++)for(let s=1;s<=r.length;s++){let n=1;r[s-1]===e[i-1]?n=0:n=1,t[s][i]=Math.min(t[s-1][i]+1,t[s][i-1]+1,t[s-1][i-1]+n),s>1&&i>1&&r[s-1]===e[i-2]&&r[s-2]===e[i-1]&&(t[s][i]=Math.min(t[s][i],t[s-2][i-2]+1))}return t[r.length][e.length]}function Kl(r,e){if(!e||e.length===0)return"";e=Array.from(new Set(e));let t=r.startsWith("--");t&&(r=r.slice(2),e=e.map(o=>o.slice(2)));let i=[],s=3,n=.4;return e.forEach(o=>{if(o.length<=1)return;let a=Zl(r,o),h=Math.max(r.length,o.length);(h-a)/h>n&&(a<s?(s=a,i=[o]):a===s&&i.push(o))}),i.sort((o,a)=>o.localeCompare(a)),t&&(i=i.map(o=>`--${o}`)),i.length>1?`
(Did you mean one of ${i.join(", ")}?)`:i.length===1?`
(Did you mean ${i[0]}?)`:""}co.suggestSimilar=Kl});var vo=u(bo=>{var Xl=require("node:events").EventEmitter,mi=require("node:child_process"),Y=require("node:path"),gi=require("node:fs"),S=require("node:process"),{Argument:Ql,humanReadableArgName:eu}=Ge(),{CommanderError:bi}=xe(),{Help:tu}=ui(),{Option:po,DualOptions:iu}=pi(),{suggestSimilar:mo}=fo(),vi=class r extends Xl{constructor(e){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=e||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>S.stdout.write(t),writeErr:t=>S.stderr.write(t),getOutHelpWidth:()=>S.stdout.isTTY?S.stdout.columns:void 0,getErrHelpWidth:()=>S.stderr.isTTY?S.stderr.columns:void 0,outputError:(t,i)=>i(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(e){return this._outputConfiguration=e._outputConfiguration,this._helpOption=e._helpOption,this._helpCommand=e._helpCommand,this._helpConfiguration=e._helpConfiguration,this._exitCallback=e._exitCallback,this._storeOptionsAsProperties=e._storeOptionsAsProperties,this._combineFlagAndOptionalValue=e._combineFlagAndOptionalValue,this._allowExcessArguments=e._allowExcessArguments,this._enablePositionalOptions=e._enablePositionalOptions,this._showHelpAfterError=e._showHelpAfterError,this._showSuggestionAfterError=e._showSuggestionAfterError,this}_getCommandAndAncestors(){let e=[];for(let t=this;t;t=t.parent)e.push(t);return e}command(e,t,i){let s=t,n=i;typeof s=="object"&&s!==null&&(n=s,s=null),n=n||{};let[,o,a]=e.match(/([^ ]+) *(.*)/),h=this.createCommand(o);return s&&(h.description(s),h._executableHandler=!0),n.isDefault&&(this._defaultCommandName=h._name),h._hidden=!!(n.noHelp||n.hidden),h._executableFile=n.executableFile||null,a&&h.arguments(a),this._registerCommand(h),h.parent=this,h.copyInheritedSettings(this),s?this:h}createCommand(e){return new r(e)}createHelp(){return Object.assign(new tu,this.configureHelp())}configureHelp(e){return e===void 0?this._helpConfiguration:(this._helpConfiguration=e,this)}configureOutput(e){return e===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,e),this)}showHelpAfterError(e=!0){return typeof e!="string"&&(e=!!e),this._showHelpAfterError=e,this}showSuggestionAfterError(e=!0){return this._showSuggestionAfterError=!!e,this}addCommand(e,t){if(!e._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return t=t||{},t.isDefault&&(this._defaultCommandName=e._name),(t.noHelp||t.hidden)&&(e._hidden=!0),this._registerCommand(e),e.parent=this,e._checkForBrokenPassThrough(),this}createArgument(e,t){return new Ql(e,t)}argument(e,t,i,s){let n=this.createArgument(e,t);return typeof i=="function"?n.default(s).argParser(i):n.default(i),this.addArgument(n),this}arguments(e){return e.trim().split(/ +/).forEach(t=>{this.argument(t)}),this}addArgument(e){let t=this.registeredArguments.slice(-1)[0];if(t&&t.variadic)throw new Error(`only the last argument can be variadic '${t.name()}'`);if(e.required&&e.defaultValue!==void 0&&e.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${e.name()}'`);return this.registeredArguments.push(e),this}helpCommand(e,t){if(typeof e=="boolean")return this._addImplicitHelpCommand=e,this;e=e??"help [command]";let[,i,s]=e.match(/([^ ]+) *(.*)/),n=t??"display help for command",o=this.createCommand(i);return o.helpOption(!1),s&&o.arguments(s),n&&o.description(n),this._addImplicitHelpCommand=!0,this._helpCommand=o,this}addHelpCommand(e,t){return typeof e!="object"?(this.helpCommand(e,t),this):(this._addImplicitHelpCommand=!0,this._helpCommand=e,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(this._helpCommand===void 0&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(e,t){let i=["preSubcommand","preAction","postAction"];if(!i.includes(e))throw new Error(`Unexpected value for event passed to hook : '${e}'.
Expecting one of '${i.join("', '")}'`);return this._lifeCycleHooks[e]?this._lifeCycleHooks[e].push(t):this._lifeCycleHooks[e]=[t],this}exitOverride(e){return e?this._exitCallback=e:this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync")throw t},this}_exit(e,t,i){this._exitCallback&&this._exitCallback(new bi(e,t,i)),S.exit(e)}action(e){let t=i=>{let s=this.registeredArguments.length,n=i.slice(0,s);return this._storeOptionsAsProperties?n[s]=this:n[s]=this.opts(),n.push(this),e.apply(this,n)};return this._actionHandler=t,this}createOption(e,t){return new po(e,t)}_callParseArg(e,t,i,s){try{return e.parseArg(t,i)}catch(n){if(n.code==="commander.invalidArgument"){let o=`${s} ${n.message}`;this.error(o,{exitCode:n.exitCode,code:n.code})}throw n}}_registerOption(e){let t=e.short&&this._findOption(e.short)||e.long&&this._findOption(e.long);if(t){let i=e.long&&this._findOption(e.long)?e.long:e.short;throw new Error(`Cannot add option '${e.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${i}'
-  already used by option '${t.flags}'`)}this.options.push(e)}_registerCommand(e){let t=s=>[s.name()].concat(s.aliases()),i=t(e).find(s=>this._findCommand(s));if(i){let s=t(this._findCommand(i)).join("|"),n=t(e).join("|");throw new Error(`cannot add command '${n}' as already have command '${s}'`)}this.commands.push(e)}addOption(e){this._registerOption(e);let t=e.name(),i=e.attributeName();if(e.negate){let n=e.long.replace(/^--no-/,"--");this._findOption(n)||this.setOptionValueWithSource(i,e.defaultValue===void 0?!0:e.defaultValue,"default")}else e.defaultValue!==void 0&&this.setOptionValueWithSource(i,e.defaultValue,"default");let s=(n,o,a)=>{n==null&&e.presetArg!==void 0&&(n=e.presetArg);let h=this.getOptionValue(i);n!==null&&e.parseArg?n=this._callParseArg(e,n,h,o):n!==null&&e.variadic&&(n=e._concatValue(n,h)),n==null&&(e.negate?n=!1:e.isBoolean()||e.optional?n=!0:n=""),this.setOptionValueWithSource(i,n,a)};return this.on("option:"+t,n=>{let o=`error: option '${e.flags}' argument '${n}' is invalid.`;s(n,o,"cli")}),e.envVar&&this.on("optionEnv:"+t,n=>{let o=`error: option '${e.flags}' value '${n}' from env '${e.envVar}' is invalid.`;s(n,o,"env")}),this}_optionEx(e,t,i,s,n){if(typeof t=="object"&&t instanceof po)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let o=this.createOption(t,i);if(o.makeOptionMandatory(!!e.mandatory),typeof s=="function")o.default(n).argParser(s);else if(s instanceof RegExp){let a=s;s=(h,l)=>{let c=a.exec(h);return c?c[0]:l},o.default(n).argParser(s)}else o.default(s);return this.addOption(o)}option(e,t,i,s){return this._optionEx({},e,t,i,s)}requiredOption(e,t,i,s){return this._optionEx({mandatory:!0},e,t,i,s)}combineFlagAndOptionalValue(e=!0){return this._combineFlagAndOptionalValue=!!e,this}allowUnknownOption(e=!0){return this._allowUnknownOption=!!e,this}allowExcessArguments(e=!0){return this._allowExcessArguments=!!e,this}enablePositionalOptions(e=!0){return this._enablePositionalOptions=!!e,this}passThroughOptions(e=!0){return this._passThroughOptions=!!e,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(e=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!e,this}getOptionValue(e){return this._storeOptionsAsProperties?this[e]:this._optionValues[e]}setOptionValue(e,t){return this.setOptionValueWithSource(e,t,void 0)}setOptionValueWithSource(e,t,i){return this._storeOptionsAsProperties?this[e]=t:this._optionValues[e]=t,this._optionValueSources[e]=i,this}getOptionValueSource(e){return this._optionValueSources[e]}getOptionValueSourceWithGlobals(e){let t;return this._getCommandAndAncestors().forEach(i=>{i.getOptionValueSource(e)!==void 0&&(t=i.getOptionValueSource(e))}),t}_prepareUserArgs(e,t){var s;if(e!==void 0&&!Array.isArray(e))throw new Error("first parameter to parse must be array or undefined");if(t=t||{},e===void 0&&t.from===void 0){(s=S.versions)!=null&&s.electron&&(t.from="electron");let n=S.execArgv??[];(n.includes("-e")||n.includes("--eval")||n.includes("-p")||n.includes("--print"))&&(t.from="eval")}e===void 0&&(e=S.argv),this.rawArgs=e.slice();let i;switch(t.from){case void 0:case"node":this._scriptPath=e[1],i=e.slice(2);break;case"electron":S.defaultApp?(this._scriptPath=e[1],i=e.slice(2)):i=e.slice(1);break;case"user":i=e.slice(0);break;case"eval":i=e.slice(1);break;default:throw new Error(`unexpected parse option { from: '${t.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",i}parse(e,t){let i=this._prepareUserArgs(e,t);return this._parseCommand([],i),this}async parseAsync(e,t){let i=this._prepareUserArgs(e,t);return await this._parseCommand([],i),this}_executeSubCommand(e,t){t=t.slice();let i=!1,s=[".js",".ts",".tsx",".mjs",".cjs"];function n(c,m){let f=Y.resolve(c,m);if(gi.existsSync(f))return f;if(s.includes(Y.extname(m)))return;let p=s.find(d=>gi.existsSync(`${f}${d}`));if(p)return`${f}${p}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let o=e._executableFile||`${this._name}-${e._name}`,a=this._executableDir||"";if(this._scriptPath){let c;try{c=gi.realpathSync(this._scriptPath)}catch{c=this._scriptPath}a=Y.resolve(Y.dirname(c),a)}if(a){let c=n(a,o);if(!c&&!e._executableFile&&this._scriptPath){let m=Y.basename(this._scriptPath,Y.extname(this._scriptPath));m!==this._name&&(c=n(a,`${m}-${e._name}`))}o=c||o}i=s.includes(Y.extname(o));let h;S.platform!=="win32"?i?(t.unshift(o),t=go(S.execArgv).concat(t),h=mi.spawn(S.argv[0],t,{stdio:"inherit"})):h=mi.spawn(o,t,{stdio:"inherit"}):(t.unshift(o),t=go(S.execArgv).concat(t),h=mi.spawn(S.execPath,t,{stdio:"inherit"})),h.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(m=>{S.on(m,()=>{h.killed===!1&&h.exitCode===null&&h.kill(m)})});let l=this._exitCallback;h.on("close",c=>{c=c??1,l?l(new bi(c,"commander.executeSubCommandAsync","(close)")):S.exit(c)}),h.on("error",c=>{if(c.code==="ENOENT"){let m=a?`searched for local subcommand relative to directory '${a}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",f=`'${o}' does not exist
 - if '${e._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${m}`;throw new Error(f)}else if(c.code==="EACCES")throw new Error(`'${o}' not executable`);if(!l)S.exit(1);else{let m=new bi(1,"commander.executeSubCommandAsync","(error)");m.nestedError=c,l(m)}}),this.runningCommand=h}_dispatchSubcommand(e,t,i){let s=this._findCommand(e);s||this.help({error:!0});let n;return n=this._chainOrCallSubCommandHook(n,s,"preSubcommand"),n=this._chainOrCall(n,()=>{if(s._executableHandler)this._executeSubCommand(s,t.concat(i));else return s._parseCommand(t,i)}),n}_dispatchHelpCommand(e){var i,s;e||this.help();let t=this._findCommand(e);return t&&!t._executableHandler&&t.help(),this._dispatchSubcommand(e,[],[((i=this._getHelpOption())==null?void 0:i.long)??((s=this._getHelpOption())==null?void 0:s.short)??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach((e,t)=>{e.required&&this.args[t]==null&&this.missingArgument(e.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let e=(i,s,n)=>{let o=s;if(s!==null&&i.parseArg){let a=`error: command-argument value '${s}' is invalid for argument '${i.name()}'.`;o=this._callParseArg(i,s,n,a)}return o};this._checkNumberOfArguments();let t=[];this.registeredArguments.forEach((i,s)=>{let n=i.defaultValue;i.variadic?s<this.args.length?(n=this.args.slice(s),i.parseArg&&(n=n.reduce((o,a)=>e(i,a,o),i.defaultValue))):n===void 0&&(n=[]):s<this.args.length&&(n=this.args[s],i.parseArg&&(n=e(i,n,i.defaultValue))),t[s]=n}),this.processedArgs=t}_chainOrCall(e,t){return e&&e.then&&typeof e.then=="function"?e.then(()=>t()):t()}_chainOrCallHooks(e,t){let i=e,s=[];return this._getCommandAndAncestors().reverse().filter(n=>n._lifeCycleHooks[t]!==void 0).forEach(n=>{n._lifeCycleHooks[t].forEach(o=>{s.push({hookedCommand:n,callback:o})})}),t==="postAction"&&s.reverse(),s.forEach(n=>{i=this._chainOrCall(i,()=>n.callback(n.hookedCommand,this))}),i}_chainOrCallSubCommandHook(e,t,i){let s=e;return this._lifeCycleHooks[i]!==void 0&&this._lifeCycleHooks[i].forEach(n=>{s=this._chainOrCall(s,()=>n(this,t))}),s}_parseCommand(e,t){let i=this.parseOptions(t);if(this._parseOptionsEnv(),this._parseOptionsImplied(),e=e.concat(i.operands),t=i.unknown,this.args=e.concat(t),e&&this._findCommand(e[0]))return this._dispatchSubcommand(e[0],e.slice(1),t);if(this._getHelpCommand()&&e[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(e[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(t),this._dispatchSubcommand(this._defaultCommandName,e,t);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),this._outputHelpIfRequested(i.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let s=()=>{i.unknown.length>0&&this.unknownOption(i.unknown[0])},n=`command:${this.name()}`;if(this._actionHandler){s(),this._processArguments();let o;return o=this._chainOrCallHooks(o,"preAction"),o=this._chainOrCall(o,()=>this._actionHandler(this.processedArgs)),this.parent&&(o=this._chainOrCall(o,()=>{this.parent.emit(n,e,t)})),o=this._chainOrCallHooks(o,"postAction"),o}if(this.parent&&this.parent.listenerCount(n))s(),this._processArguments(),this.parent.emit(n,e,t);else if(e.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",e,t);this.listenerCount("command:*")?this.emit("command:*",e,t):this.commands.length?this.unknownCommand():(s(),this._processArguments())}else this.commands.length?(s(),this.help({error:!0})):(s(),this._processArguments())}_findCommand(e){if(e)return this.commands.find(t=>t._name===e||t._aliases.includes(e))}_findOption(e){return this.options.find(t=>t.is(e))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(e=>{e.options.forEach(t=>{t.mandatory&&e.getOptionValue(t.attributeName())===void 0&&e.missingMandatoryOptionValue(t)})})}_checkForConflictingLocalOptions(){let e=this.options.filter(i=>{let s=i.attributeName();return this.getOptionValue(s)===void 0?!1:this.getOptionValueSource(s)!=="default"});e.filter(i=>i.conflictsWith.length>0).forEach(i=>{let s=e.find(n=>i.conflictsWith.includes(n.attributeName()));s&&this._conflictingOption(i,s)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(e=>{e._checkForConflictingLocalOptions()})}parseOptions(e){let t=[],i=[],s=t,n=e.slice();function o(h){return h.length>1&&h[0]==="-"}let a=null;for(;n.length;){let h=n.shift();if(h==="--"){s===i&&s.push(h),s.push(...n);break}if(a&&!o(h)){this.emit(`option:${a.name()}`,h);continue}if(a=null,o(h)){let l=this._findOption(h);if(l){if(l.required){let c=n.shift();c===void 0&&this.optionMissingArgument(l),this.emit(`option:${l.name()}`,c)}else if(l.optional){let c=null;n.length>0&&!o(n[0])&&(c=n.shift()),this.emit(`option:${l.name()}`,c)}else this.emit(`option:${l.name()}`);a=l.variadic?l:null;continue}}if(h.length>2&&h[0]==="-"&&h[1]!=="-"){let l=this._findOption(`-${h[1]}`);if(l){l.required||l.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${l.name()}`,h.slice(2)):(this.emit(`option:${l.name()}`),n.unshift(`-${h.slice(2)}`));continue}}if(/^--[^=]+=/.test(h)){let l=h.indexOf("="),c=this._findOption(h.slice(0,l));if(c&&(c.required||c.optional)){this.emit(`option:${c.name()}`,h.slice(l+1));continue}}if(o(h)&&(s=i),(this._enablePositionalOptions||this._passThroughOptions)&&t.length===0&&i.length===0){if(this._findCommand(h)){t.push(h),n.length>0&&i.push(...n);break}else if(this._getHelpCommand()&&h===this._getHelpCommand().name()){t.push(h),n.length>0&&t.push(...n);break}else if(this._defaultCommandName){i.push(h),n.length>0&&i.push(...n);break}}if(this._passThroughOptions){s.push(h),n.length>0&&s.push(...n);break}s.push(h)}return{operands:t,unknown:i}}opts(){if(this._storeOptionsAsProperties){let e={},t=this.options.length;for(let i=0;i<t;i++){let s=this.options[i].attributeName();e[s]=s===this._versionOptionName?this._version:this[s]}return e}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((e,t)=>Object.assign(e,t.opts()),{})}error(e,t){this._outputConfiguration.outputError(`${e}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let i=t||{},s=i.exitCode||1,n=i.code||"commander.error";this._exit(s,n,e)}_parseOptionsEnv(){this.options.forEach(e=>{if(e.envVar&&e.envVar in S.env){let t=e.attributeName();(this.getOptionValue(t)===void 0||["default","config","env"].includes(this.getOptionValueSource(t)))&&(e.required||e.optional?this.emit(`optionEnv:${e.name()}`,S.env[e.envVar]):this.emit(`optionEnv:${e.name()}`))}})}_parseOptionsImplied(){let e=new iu(this.options),t=i=>this.getOptionValue(i)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(i));this.options.filter(i=>i.implied!==void 0&&t(i.attributeName())&&e.valueFromOption(this.getOptionValue(i.attributeName()),i)).forEach(i=>{Object.keys(i.implied).filter(s=>!t(s)).forEach(s=>{this.setOptionValueWithSource(s,i.implied[s],"implied")})})}missingArgument(e){let t=`error: missing required argument '${e}'`;this.error(t,{code:"commander.missingArgument"})}optionMissingArgument(e){let t=`error: option '${e.flags}' argument missing`;this.error(t,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(e){let t=`error: required option '${e.flags}' not specified`;this.error(t,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(e,t){let i=o=>{let a=o.attributeName(),h=this.getOptionValue(a),l=this.options.find(m=>m.negate&&a===m.attributeName()),c=this.options.find(m=>!m.negate&&a===m.attributeName());return l&&(l.presetArg===void 0&&h===!1||l.presetArg!==void 0&&h===l.presetArg)?l:c||o},s=o=>{let a=i(o),h=a.attributeName();return this.getOptionValueSource(h)==="env"?`environment variable '${a.envVar}'`:`option '${a.flags}'`},n=`error: ${s(e)} cannot be used with ${s(t)}`;this.error(n,{code:"commander.conflictingOption"})}unknownOption(e){if(this._allowUnknownOption)return;let t="";if(e.startsWith("--")&&this._showSuggestionAfterError){let s=[],n=this;do{let o=n.createHelp().visibleOptions(n).filter(a=>a.long).map(a=>a.long);s=s.concat(o),n=n.parent}while(n&&!n._enablePositionalOptions);t=mo(e,s)}let i=`error: unknown option '${e}'${t}`;this.error(i,{code:"commander.unknownOption"})}_excessArguments(e){if(this._allowExcessArguments)return;let t=this.registeredArguments.length,i=t===1?"":"s",n=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${t} argument${i} but got ${e.length}.`;this.error(n,{code:"commander.excessArguments"})}unknownCommand(){let e=this.args[0],t="";if(this._showSuggestionAfterError){let s=[];this.createHelp().visibleCommands(this).forEach(n=>{s.push(n.name()),n.alias()&&s.push(n.alias())}),t=mo(e,s)}let i=`error: unknown command '${e}'${t}`;this.error(i,{code:"commander.unknownCommand"})}version(e,t,i){if(e===void 0)return this._version;this._version=e,t=t||"-V, --version",i=i||"output the version number";let s=this.createOption(t,i);return this._versionOptionName=s.attributeName(),this._registerOption(s),this.on("option:"+s.name(),()=>{this._outputConfiguration.writeOut(`${e}
`),this._exit(0,"commander.version",e)}),this}description(e,t){return e===void 0&&t===void 0?this._description:(this._description=e,t&&(this._argsDescription=t),this)}summary(e){return e===void 0?this._summary:(this._summary=e,this)}alias(e){var s;if(e===void 0)return this._aliases[0];let t=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(t=this.commands[this.commands.length-1]),e===t._name)throw new Error("Command alias can't be the same as its name");let i=(s=this.parent)==null?void 0:s._findCommand(e);if(i){let n=[i.name()].concat(i.aliases()).join("|");throw new Error(`cannot add alias '${e}' to command '${this.name()}' as already have command '${n}'`)}return t._aliases.push(e),this}aliases(e){return e===void 0?this._aliases:(e.forEach(t=>this.alias(t)),this)}usage(e){if(e===void 0){if(this._usage)return this._usage;let t=this.registeredArguments.map(i=>eu(i));return[].concat(this.options.length||this._helpOption!==null?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=e,this}name(e){return e===void 0?this._name:(this._name=e,this)}nameFromFilename(e){return this._name=Y.basename(e,Y.extname(e)),this}executableDir(e){return e===void 0?this._executableDir:(this._executableDir=e,this)}helpInformation(e){let t=this.createHelp();return t.helpWidth===void 0&&(t.helpWidth=e&&e.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),t.formatHelp(this,t)}_getHelpContext(e){e=e||{};let t={error:!!e.error},i;return t.error?i=s=>this._outputConfiguration.writeErr(s):i=s=>this._outputConfiguration.writeOut(s),t.write=e.write||i,t.command=this,t}outputHelp(e){var n;let t;typeof e=="function"&&(t=e,e=void 0);let i=this._getHelpContext(e);this._getCommandAndAncestors().reverse().forEach(o=>o.emit("beforeAllHelp",i)),this.emit("beforeHelp",i);let s=this.helpInformation(i);if(t&&(s=t(s),typeof s!="string"&&!Buffer.isBuffer(s)))throw new Error("outputHelp callback must return a string or a Buffer");i.write(s),(n=this._getHelpOption())!=null&&n.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",i),this._getCommandAndAncestors().forEach(o=>o.emit("afterAllHelp",i))}helpOption(e,t){return typeof e=="boolean"?(e?this._helpOption=this._helpOption??void 0:this._helpOption=null,this):(e=e??"-h, --help",t=t??"display help for command",this._helpOption=this.createOption(e,t),this)}_getHelpOption(){return this._helpOption===void 0&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(e){return this._helpOption=e,this}help(e){this.outputHelp(e);let t=S.exitCode||0;t===0&&e&&typeof e!="function"&&e.error&&(t=1),this._exit(t,"commander.help","(outputHelp)")}addHelpText(e,t){let i=["beforeAll","before","after","afterAll"];if(!i.includes(e))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${i.join("', '")}'`);let s=`${e}Help`;return this.on(s,n=>{let o;typeof t=="function"?o=t({error:n.error,command:n.command}):o=t,o&&n.write(`${o}
`)}),this}_outputHelpIfRequested(e){let t=this._getHelpOption();t&&e.find(s=>t.is(s))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}};function go(r){return r.map(e=>{if(!e.startsWith("--inspect"))return e;let t,i="127.0.0.1",s="9229",n;return(n=e.match(/^(--inspect(-brk)?)$/))!==null?t=n[1]:(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(t=n[1],/^\d+$/.test(n[3])?s=n[3]:i=n[3]):(n=e.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(t=n[1],i=n[3],s=n[4]),t&&s!=="0"?`${t}=${i}:${parseInt(s)+1}`:e})}bo.Command=vi});var xo=u(A=>{var{Argument:wo}=Ge(),{Command:wi}=vo(),{CommanderError:ru,InvalidArgumentError:yo}=xe(),{Help:su}=ui(),{Option:_o}=pi();A.program=new wi;A.createCommand=r=>new wi(r);A.createOption=(r,e)=>new _o(r,e);A.createArgument=(r,e)=>new wo(r,e);A.Command=wi;A.Option=_o;A.Argument=wo;A.Help=su;A.CommanderError=ru;A.InvalidArgumentError=yo;A.InvalidOptionArgumentError=yo});var Vo={"signal.scriptStart":"===== \u811A\u672C\u5F00\u59CB\u6267\u884C =====","signal.successComplete":"===== \u811A\u672C\u6267\u884C\u6210\u529F =====","signal.exitWithError":"===== \u811A\u672C\u5F02\u5E38\u9000\u51FA =====","question.subcommand":"\u8BF7\u9009\u62E9\u8981\u6267\u884C\u7684\u4E1A\u52A1\u7C7B\u578B","question.subcommand.generateVoMapper":"\u751F\u6210 VO \u6620\u5C04","question.projectRoot":"\u8BF7\u8F93\u5165\u5DE5\u7A0B\u6839\u76EE\u5F55","question.packageName":"\u8BF7\u8F93\u5165\u5305\u540D","question.inputModule":"\u8BF7\u9009\u62E9\u8F93\u5165\u6A21\u5757\u540D","question.outputModule":"\u8BF7\u9009\u62E9\u76EE\u6807\u6A21\u5757\u540D","error.userCancel":"\u7528\u6237\u7EC8\u6B62\u4E86\u811A\u672C\u6267\u884C","error.invalidArgs":"\u65E0\u6548\u7684\u53C2\u6570: {str}","error.badArgs":"\u9519\u8BEF\u7684\u53C2\u6570","error.business":"\u9519\u8BEF: {str}"},Ai=Vo;var jo={"signal.scriptStart":"===== Script start =====","signal.successComplete":"===== Program execution succeeded =====","signal.exitWithError":"===== Exit with error =====","question.subcommand":"Select the business type","question.subcommand.generateVoMapper":"Generate VO mapper","question.projectRoot":"Input project root","question.packageName":"Input package name","question.inputModule":"Select input module name","question.outputModule":"Select output module name","error.userCancel":"User canceled","error.invalidArgs":"Invalid args: {str}","error.badArgs":"Bad args","error.business":"Error: {str}"},Ye=jo;function se(r){let e={value:r,hasInitialized:function(){return this._initialized},_initialized:r===void 0,_watchCallbacks:[]};return new Proxy(e,{get:(t,i)=>t[i],set:(t,i,s)=>{t[i]=s;for(let n of t._watchCallbacks)n(t[i],s);return e._initialized=!0,!0}})}var ze=se(Ye);function Ho(r,e,t){let i=ze.value[r];return i||(typeof e=="string"?i=e:typeof t=="string"&&(i=t)),i?(typeof e=="object"&&(i=i.replace(/\{\s*([a-zA-z_]+)\s*\}/g,(s,n)=>String(e[n]))),i):""}function Fo(r){r==="zh"?ze.value=Ai:r==="en"&&(ze.value=Ye)}var Q={state:{},action:{t:Ho,updateLang:Fo}};var $i=Q.action.t;function ee(){throw Error($i("error.userCancel"))}function qi(r){throw Error($i("error.business",{str:r}))}function Ei(r){return!!r&&r.length>0}function Ti(r){return/^[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_])*$/.test(r)}function Pi(r,e,t){return Array.from({length:e}).forEach((i,s)=>{r=t(r,s)}),r}var ne;(i=>{function r(s){return s.charAt(0).toUpperCase()+s.slice(1)}i.upperFirst=r;function e(s){return s.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join("")}i.snakeToUpperCamel=e;function t(s){return s.charAt(0).toLowerCase()+s.slice(1)}i.lowerFirst=t})(ne||={});var yi=z(require("node:path"),1),ue=z(require("node:fs"),1),Oe=z(lo(),1);var Oo=z(xo(),1),{program:Yc,createCommand:zc,createArgument:Jc,createOption:Bc,CommanderError:Zc,InvalidArgumentError:Kc,InvalidOptionArgumentError:Xc,Command:Le,Argument:Qc,Option:ed,Help:td}=Oo.default;var H=Q.action.t,_i=se(!1),nu=new Le().name("genVoMapper").requiredOption("--project-root <path>","\u9879\u76EE\u6839\u76EE\u5F55").option("--package-name <name>","\u9879\u76EE\u6839\u76EE\u5F55","com.github.alphafoxz.oneboot").requiredOption("--input-module <name>","\u8F93\u5165\u6A21\u5757\u540D").requiredOption("--output-module <name>","\u8F93\u51FA\u6A21\u5757\u540D").action(r=>{We.value="genVoMapper",X.value.projectRoot=r.projectRoot,X.value.packageName=r.packageName,X.value.inputModule=r.inputModule,X.value.outputModule=r.outputModule}),ou=new Le().name("start"),au=new Le().name("oneboot-tool").addCommand(ou).addCommand(nu),We=se("none"),X=se({});function hu(){au.parse(process.argv),We.value!=="none"&&(_i.value=!0)}hu();async function lu(){let{langurage:r}=await(0,Oe.default)([{name:"langurage",type:"select",message:"Choose The language during this creation process",choices:[{title:"English",value:"en"},{title:"\u4E2D\u6587",value:"zh"}]}],{onCancel:ee});Q.action.updateLang(r);let{subcommand:e}=await(0,Oe.default)([{name:"subcommand",type:"select",message:H("question.subcommand"),choices:[{title:H("question.subcommand.generateVoMapper"),value:"genVoMapper"}]}],{onCancel:ee});switch(We.value=e,e){case"genVoMapper":await uu();break;default:}}async function uu(){let r=yi.default.basename(process.cwd())||yi.default.basename(__dirname),{projectRoot:e}=await(0,Oe.default)([{name:"projectRoot",type:"text",message:H("question.projectRoot"),initial:`/${r}`,onState:s=>(Ei(s.value)||qi(H("error.badArgs")),s.value)},{name:"packageName",type:"text",message:H("question.packageName"),initial:"com.github.alphafoxz.oneboot",onState:s=>Ti(s.value)?s.value:""}],{onCancel:ee});if(X.value.projectRoot=e,!ue.default.existsSync(e)||!ue.default.statSync(e).isDirectory())throw Error(H("error.badArgs"));ue.default.existsSync(e),ue.default.statSync(e),ue.default.readdirSync(e);let{inputModule:t,outputModule:i}=await(0,Oe.default)([{name:"inputModule",type:"select",message:H("question.inputModule"),choices:[{title:H("question.subcommand.generateVoMapper"),value:"genVo"}]},{name:"outputModule",type:"select",message:H("question.outputModule"),choices:[{title:H("question.subcommand.generateVoMapper"),value:"genVo"}]}],{onCancel:ee});X.value.inputModule=t,X.value.outputModule=i}async function cu(){_i.value||(await lu(),_i.value=!0)}function Ue(){return{state:{currentCommand:We,genVoMapperArgs:X},action:{init:cu}}}var So=z(require("tree-sitter"),1),Co=z(require("tree-sitter-java"),1),xi;(m=>{let r;(q=>(q.package_declaration="package_declaration",q.import_declaration="import_declaration",q.scoped_identifier="scoped_identifier",q.class_declaration="class_declaration",q.interface_declaration="interface_declaration",q.enum_declaration="enum_declaration",q.record_declaration="record_declaration",q.type_identifier="type_identifier",q.identifier="identifier",q.formal_parameters="formal_parameters",q.formal_parameter="formal_parameter"))(r||={});let e=new So.default;e.setLanguage(Co.default);function t(f){return e.parse(f)}m.parseTree=t;function i(f,p){let d={_filePath:f,package_declaration:void 0,import_declaration:[],class_declaration:[],interface_declaration:[],enum_declaration:[],record_declaration:[]},O=e.parse(p).rootNode.children;if(!O)return d;for(let w of O)w.type==="package_declaration"?d.package_declaration=s(w,p):w.type==="import_declaration"?d.import_declaration.push(c(w,"scoped_identifier",p)):w.type==="class_declaration"?d.class_declaration.push(n(w,p)):w.type==="interface_declaration"?d.interface_declaration.push(o(w,p)):w.type==="record_declaration"&&d.record_declaration.push(a(w,p));return d}m.parse=i;function s(f,p){let d=f.children.find(O=>O.type==="scoped_identifier");return{grammar:"package_declaration",name:p.substring(d.startIndex,d.endIndex)}}function n(f,p){return{grammar:"class_declaration",name:l(f,p),staticFields:[],fields:[]}}function o(f,p){return{grammar:"interface_declaration",name:l(f,p),staticFields:[],fields:[]}}function a(f,p){let d={grammar:"record_declaration",name:l(f,p),formalParameters:[]};for(let b of f.children)if(b.type==="formal_parameters"){let O=h(b,p);for(let w of O)d.formalParameters.push({grammar:"formal_parameter",type:w.type,name:w.name})}return d}function h(f,p){let d=[];return f.children.forEach(b=>{b.type==="formal_parameter"&&d.push({grammar:"formal_parameter",type:c(b,"type_identifier",p),name:l(b,p)})}),d}function l(f,p){for(let d of f.namedChildren)if(d.type==="identifier")return p.substring(d.startIndex,d.endIndex);return""}function c(f,p,d){for(let b of f.children)if(b.type===p)return d.substring(b.startIndex,b.endIndex);return null}})(xi||={});var re=z(require("node:fs"),1),$=z(require("node:path"),1);var Mo=Ue();async function Ao(){await Mo.action.init();let r=Mo.state.genVoMapperArgs.value,e=$o($.default.join(r.projectRoot,r.inputModule)),t={};t=e.reduce((s,n)=>{let o=`^${$.default.join(r.projectRoot,r.inputModule,"src","main","java",r.packageName.replace(/\./g,$.default.sep),r.inputModule.replace(/-/g,$.default.sep))}${$.default.sep}([a-zA-Z0-9_]+)${$.default.sep}vo.*$`,a=new RegExp(o.replace(/\\/g,"/")),h=a.exec(n._filePath.replace(/\\/g,"/"));return h?(s[h[1]]||(s[h[1]]=[]),s[h[1]].push(n),s):(console.warn("\u5339\u914D\u5931\u8D25",n._filePath.replace(/\\/g,"/"),a),s)},t);let i=fu(r.projectRoot,r.packageName,r.outputModule,t);pu(...i)}function $o(r,e=[]){let t=re.default.readdirSync(r);for(let i of t){let s=$.default.join(r,i);if(re.default.statSync(s).isDirectory()){e=$o(s,e);continue}if(!s.endsWith("Vo.java"))continue;let n=re.default.readFileSync(s,"utf-8");e.push(xi.parse(s,n))}return e}function fu(r,e,t,i){let s=[];return Object.keys(i).forEach(n=>{let o=i[n],a=new Oi(`${e}.${t.replace(/-/g,".")}.gen.mapper`,`${ne.snakeToUpperCamel(n)}VoMapper`);for(let h of o)h.import_declaration.forEach(l=>{l.endsWith("*")&&a.addImport(l)}),h.record_declaration.forEach(l=>{var b;if(!l.name.endsWith("Vo"))return;let c=l.formalParameters,m,f=0;if(c.forEach((O,w)=>{O.name==="value"&&(m=O,f=w)}),!!!m)return;let d=c.length;a.addImport(((b=h.package_declaration)==null?void 0:b.name)+"."+h.record_declaration[0].name),a.addMapping(l.name,{fieldType:c[0].type,fieldName:c[0].name,fieldsSize:d,fieldIndex:f})}),h.class_declaration.forEach(l=>{l.name.endsWith("Vo")});s.push({filePath:$.default.join(r,t,"src","main","java",e.replace(/\./g,$.default.sep),t.replace(/-/g,$.default.sep),"gen","mapper",`${ne.snakeToUpperCamel(n)}VoMapper.java`),content:a.getCode()})}),s}var Oi=class{packageName;ClassName;importPackages=new Set;mappings={};constructor(e,t){this.packageName=e,this.ClassName=t}addImport(e){this.importPackages.add(e)}addImports(e){this.importPackages=new Set([...this.importPackages,...e])}addMapping(e,t){this.mappings[e]=t}getCode(){let e="";this.importPackages.forEach(i=>{e+=`import ${i};
`});let t="";return Object.keys(this.mappings).forEach(i=>{let{fieldType:s,fieldName:n,fieldsSize:o,fieldIndex:a}=this.mappings[i],h=Pi([],o,(l,c)=>(c===a?l.push("source"):l.push("null"),l)).join(", ");t+=`    default ${s} ${ne.lowerFirst(s)}To${i}(${i} source) {
        return source.${n}();
    }

    default ${i} ${ne.lowerFirst(i)}To${s}(${s} source) {
        return new ${i}(${h});
    }

`}),`package ${this.packageName};

${e}
public interface ${this.ClassName} {
${t}
}
`}};function pu(...r){for(let e of r)re.default.existsSync(e.filePath)||re.default.mkdirSync($.default.dirname(e.filePath),{recursive:!0}),re.default.writeFileSync(e.filePath,e.content)}var Si=Q.action.t;console.info(Si("signal.scriptStart"));var qo=Ue();mu().then(()=>{console.info(Si("signal.successComplete"))}).catch(r=>{console.error(r.message),console.error(Si("signal.exitWithError"))});process.on("SIGINT",ee);async function mu(){switch(await qo.action.init(),qo.state.currentCommand.value){case"genVoMapper":Ao();break;case"none":break}}
